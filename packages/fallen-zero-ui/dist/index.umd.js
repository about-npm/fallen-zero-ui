(function(r,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.FallenZeroUI={},r.Vue))})(this,function(r,a){"use strict";const j="",T=(u,i)=>{if(u.install=n=>{for(const e of[u,...Object.values(i??{})])n.component(e.name,e)},i)for(const[n,e]of Object.entries(i))u[n]=e;return u},S=a.defineComponent({__name:"index",props:{startVal:{default:0},endVal:{default:new Date().getFullYear()},duration:{default:3e3},autoplay:{type:Boolean,default:!0},decimals:{default:0},decimal:{default:"."},separator:{default:","},prefix:{default:""},suffix:{default:""},useEasing:{type:Boolean,default:!0},easingFn:{type:Function,default:(u,i,n,e)=>n*(-Math.pow(2,-10*u/e)+1)*1024/1023+i}},emits:["callback","mountedCallback"],setup(u,{expose:i,emit:n}){const e=u,D=f=>!isNaN(parseFloat(f)),p=f=>{let s=f.toFixed(Math.abs(e.decimals));s+="";const b=s.split(".");let m=b[0];const M=b.length>1?e.decimal+b[1]:"",E=/(\d+)(\d{3})/;if(e.separator&&!D(e.separator))for(;E.test(m);)m=m.replace(E,"$1"+e.separator+"$2");return e.prefix+m+M+e.suffix},o=a.ref(e.startVal),V=a.ref(p(e.startVal)),t=a.ref(null),d=a.ref(!1),c=a.ref(e.duration),v=a.ref(null),I=a.ref(null),x=a.ref(null),l=a.ref(null),F=a.computed(()=>e.startVal>e.endVal),y=f=>{v.value||(v.value=f),I.value=f;const s=f-v.value;x.value=c.value-s,e.useEasing?F.value?t.value=o.value-e.easingFn(s,0,o.value-e.endVal,c.value):t.value=e.easingFn(s,o.value,e.endVal-o.value,c.value):F.value?t.value=o.value-(o.value-e.endVal)*(s/c.value):t.value=o.value+(e.endVal-o.value)*(s/c.value),F.value?t.value=t.value<e.endVal?e.endVal:t.value:t.value=t.value>e.endVal?e.endVal:t.value,V.value=p(t.value),s<c.value?(l.value!==null&&cancelAnimationFrame(l.value),l.value=requestAnimationFrame(y)):(l.value!==null&&cancelAnimationFrame(l.value),n("callback"))},A=()=>{o.value=e.startVal,v.value=null,c.value=e.duration,d.value=!1,l.value!==null&&cancelAnimationFrame(l.value),l.value=requestAnimationFrame(y)},_=()=>{v.value=null,c.value=+(x.value||0),o.value=+(t.value||0),l.value!==null&&cancelAnimationFrame(l.value),l.value=requestAnimationFrame(y),d.value=!1},k=()=>{l.value!==null&&cancelAnimationFrame(l.value),d.value=!0},N=()=>{d.value?_():k()},B=()=>{v.value=null,l.value!==null&&cancelAnimationFrame(l.value),V.value=p(e.startVal)};return a.watch(()=>[e.startVal,e.endVal],()=>{e.autoplay&&A()}),a.onMounted(()=>{e.autoplay&&A(),n("mountedCallback")}),a.onBeforeUnmount(()=>{l.value!==null&&cancelAnimationFrame(l.value)}),i({pauseResume:N,pause:k,reset:B,resume:_,start:A}),(f,s)=>(a.openBlock(),a.createElementBlock("span",null,a.toDisplayString(V.value),1))}}),w=[T(S)],g=Symbol("INSTALLED_KEY"),h=((u=[])=>({install:n=>{n[g]||(n[g]=!0,u.forEach(e=>n.use(e)))}}))([...w]),C=h.install;r.default=h,r.install=C,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
