(function(r,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],l):(r=typeof globalThis<"u"?globalThis:r||self,l(r.FallenZeroUI={},r.Vue))})(this,function(r,l){"use strict";const q="",S=(u,c)=>{if(u.install=n=>{for(const e of[u,...Object.values(c??{})])n.component(e.name,e)},c)for(const[n,e]of Object.entries(c))u[n]=e;return u},w=l.defineComponent({__name:"index",props:{startVal:{default:0},endVal:{default:new Date().getFullYear()},duration:{default:3e3},autoplay:{type:Boolean,default:!0},decimals:{default:0},decimal:{default:"."},separator:{default:","},prefix:{default:""},suffix:{default:""},useEasing:{type:Boolean,default:!0},easingFn:{type:Function,default:(u,c,n,e)=>n*(-Math.pow(2,-10*u/e)+1)*1024/1023+c}},emits:["callback","mountedCallback"],setup(u,{expose:c,emit:n}){const e=u,I=f=>!isNaN(parseFloat(f)),V=f=>{let s=f.toFixed(Math.abs(e.decimals));s+="";const b=s.split(".");let m=b[0];const j=b.length>1?e.decimal+b[1]:"",T=/(\d+)(\d{3})/;if(e.separator&&!I(e.separator))for(;T.test(m);)m=m.replace(T,"$1"+e.separator+"$2");return e.prefix+m+j+e.suffix},o=l.ref(e.startVal),F=l.ref(V(e.startVal)),t=l.ref(null),d=l.ref(!1),i=l.ref(e.duration),v=l.ref(null),N=l.ref(null),_=l.ref(null),a=l.ref(null),g=l.computed(()=>e.startVal>e.endVal),y=f=>{v.value||(v.value=f),N.value=f;const s=f-v.value;_.value=i.value-s,e.useEasing?g.value?t.value=o.value-e.easingFn(s,0,o.value-e.endVal,i.value):t.value=e.easingFn(s,o.value,e.endVal-o.value,i.value):g.value?t.value=o.value-(o.value-e.endVal)*(s/i.value):t.value=o.value+(e.endVal-o.value)*(s/i.value),g.value?t.value=t.value<e.endVal?e.endVal:t.value:t.value=t.value>e.endVal?e.endVal:t.value,F.value=V(t.value),s<i.value?(a.value!==null&&cancelAnimationFrame(a.value),a.value=requestAnimationFrame(y)):(a.value!==null&&cancelAnimationFrame(a.value),n("callback"))},A=()=>{o.value=e.startVal,v.value=null,i.value=e.duration,d.value=!1,a.value!==null&&cancelAnimationFrame(a.value),a.value=requestAnimationFrame(y)},k=()=>{v.value=null,i.value=+(_.value||0),o.value=+(t.value||0),a.value!==null&&cancelAnimationFrame(a.value),a.value=requestAnimationFrame(y),d.value=!1},E=()=>{a.value!==null&&cancelAnimationFrame(a.value),d.value=!0},B=()=>{d.value?k():E()},M=()=>{v.value=null,a.value!==null&&cancelAnimationFrame(a.value),F.value=V(e.startVal)};return l.watch(()=>[e.startVal,e.endVal],()=>{e.autoplay&&A()}),l.onMounted(()=>{e.autoplay&&A(),n("mountedCallback")}),l.onBeforeUnmount(()=>{a.value!==null&&cancelAnimationFrame(a.value)}),c({pauseResume:B,pause:E,reset:M,resume:k,start:A}),(f,s)=>(l.openBlock(),l.createElementBlock("span",null,l.toDisplayString(F.value),1))}}),h=S(w),C=[h],p=Symbol("INSTALLED_KEY"),x=((u=[])=>({install:n=>{console.log(n[p]),!n[p]&&(n[p]=!0,u.forEach(e=>{console.log(e),n.use(e)}))}}))([...C]),D=x.install;r.FzCountTo=h,r.default=x,r.install=D,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
